<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:a="http://abdera.apache.org"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://abdera.apache.org http://abdera.apache.org/schemas/abdera-spring.xsd">

  <!-- Abdera -->
  <a:provider>
  	<property name="filters">
  		<list>
  			<ref bean="referencedFilter"/>
  			<bean class="org.apache.abdera.spring.DummyFilter"/>
  		</list>
  	</property>
    <property name="workspaces">
    	<ref bean="simpleWorkspace"/>
    </property>
     
    <!-- It is not necessary to specify this, but we're testing it -->
    <a:targetResolver>
      <a:regexTargetResolver>
        <a:collection>/atom/feed(\?[^#]*)?</a:collection>
        <a:entry>/atom/feed/([^/#?]+)(\?[^#]*)?</a:entry>
        <a:service>/atom(\?[^#]*)?</a:service>
      </a:regexTargetResolver>
    </a:targetResolver>    
  </a:provider>
  
  <bean id="referencedAdapter" class="org.apache.abdera.spring.TestAdapter"/>
  <bean id="referencedFilter" class="org.apache.abdera.spring.DummyFilter"/>

  <bean id="simpleWorkspace" class="org.apache.abdera.protocol.server.impl.SimpleWorkspaceInfo">
  	<property name="title" value="Foo Workspace"/>
  	<property name="collections">
  		<list>
  			<bean class="org.apache.abdera.spring.TestAdapter"/>      
      		<ref bean="referencedAdapter"/>
  		</list>
  	</property>
  </bean>

</beans>